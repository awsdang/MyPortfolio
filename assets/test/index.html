<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="../../../favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>IFC.js</title>
</head>
<body>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js" type="text/javascript"></script>
    <script src="https://code.createjs.com/1.0.0/preloadjs.min.js" type="text/javascript"></script>
    <div id="progress"></div>

    <div id="viewer-container"></div>
    <div id="text-container">
        <p>Progress:</p><p id="progress-text">0</p><p>%</p>
    </div>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.0/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script> -->


    <script>
  listing = []
  let progress = document.getElementById('progress');
    var queue = new createjs.LoadQueue(false);
    var me = new createjs.AbstractMediaLoader()
    
    queue.on("fileload", handleFileComplete);
    queue.on('progress', event => {
        let progress = Math.floor(event.progress * 100);
        this.progress.style.width = progress+'%';
        if (progress == 100) {
            console.log('all done');
            document.querySelector('body').style.background = 'white'
        }
    })
    queue.on('complete', event => {
        setTimeout(() => {
            progress.classList.add('expand');
        },500)

    })
   queue.loadFile({id:"bundle", src:"bundle.js"});
   queue.loadManifest({manifest:"IFCWorker", src:"IFCWorker.js"});
   queue.loadManifest({manifest:"file", src:"models/05.zip"});
    function handleFileComplete(event) {

     
     var bundle = queue.getResult("bundle")
     var script = document.createElement('script');
    script.src = bundle;
    }

    
       </script>
  


</body>
</html>